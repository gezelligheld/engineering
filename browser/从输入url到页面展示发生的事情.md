当我们在浏览器输入https://www.baidu.com/后，发生了以下的事情

#### 强缓存

浏览器先检查强缓存，如果命中直接使用，否则进入下一步

#### dns 解析

网址到 ip 地址的转换，查找的过程是一层一层往上找到

1. 浏览器 dns 缓存
2. 系统缓存（本地 hosts）
3. 本地的域名服务器
4. 根域名服务器
5. 顶级域名服务器
6. 主域名服务器

#### 发起 TCP 连接

TCP 连接经历了三次握手

1. 客户端发送 syn 包(Seq=x)到服务器，即连接请求报文，等待服务器确认
2. 服务器收到 syn 包，发送 SYN（ack=x+1）+ACK（Seq=y）包，表示确认
3. 客户端收到，向服务器发送确认包 ACK(ack=y+1)，握手完毕

#### 发送 http 请求

发送 HTTP 请求的过程就是构建 HTTP 请求报文并通过 TCP 协议中发送到服务器指定端口，请求报文由请求行，请求头，请求体组成

#### 服务器响应

服务器响应数据并返回，响应报文由状态码，响应头，响应体组成。响应完成后如果请求头或响应头中包含 Connection: Keep-Alive，则 TCP 会保持连接，HTTP1.1 默认持久连接

#### 浏览器解析渲染

如果响应头中 Content-Type 的值是 text/html，则进入浏览器的解析和渲染阶段

1. 解析 html 建立 dom 树
2. 解析 css 构建 render 树
3. 布局 render 树，负责各元素尺寸、位置的计算
4. 绘制 render 树，绘制页面像素信息
5. 浏览器会将各层的信息发送给 GPU，GPU 会将各层合成，最后显示到屏幕上

vite 是新一代构建工具，开发环境采用基于浏览器 esm 规范的 no-bundle 机制，生产环境使用 rollup 打包

#### vite vs webpack

Webpack 采用了 bundle 机制，将项目中各种类型的源文件转化供浏览器识别的 js、css、img 等文件，建立源文件之间的依赖关系合并为少数几个 bundle。bundle 机制的工作流程主要分为两步。

- 构建模块依赖图：获取入口文件，使用对应 loader 将其转换为浏览器能识别的文件，然后解析为 ast 找到相关依赖，直到所有源文件遍历完成

- 分解模块依赖图：作 tree shaking，分解为 initial chunk、async chunks，并优化其中重复的 module，将多个 chunk 共享的 module 分离到 common chunk 中，最后将 chunk 生成文件

这些操作是比较耗时的，导致构建速度缓慢，而 vite 采用了 no-bundle 机制，不需要构建和分解模块依赖图，完全通过浏览器对 esm 规范的支持来解析

热更新时，webpack 需要对修改的文件重新编译打包，其依赖的文件应用了缓存，然后通知浏览器获取新的文件；而 vite 不需要编译这一步。综上，vite 在冷启动和热更新方面远远超过了 webpack

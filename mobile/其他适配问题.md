#### 自动播放媒体

大部分移动端浏览器都明确规定不能自动播放媒体或默认屏蔽autoplay，需要调用play去播放

```js
const audio = document.getElementById("audio");
const video = document.getElementById("video");
audio.play();
video.play();
```

像微信浏览器这样的内置浏览器，还需监听其应用SDK加载完成才能触发上述代码，以保障WebView正常渲染

```js
document.addEventListener("WeixinJSBridgeReady", () => {
    // tood
});
```

IOS上明确规定用户交互操作开始后才能播放媒体，否则会报以下错误

```
Unhandled Rejection (NotAllowedError): The request is not allowed by the user agent or the platform in the current context, possibly because the user denied permission
```

详见[媒体和网络音频 API 的自动播放指南](https://developer.mozilla.org/zh-CN/docs/Web/Media/Autoplay_guide)

#### history.push的问题

history.push后，路由栈里有了内容，iphone手机的微信浏览器底部会多出一块前进、后退的操作区域，挤占内容区，高度变小，影响布局

其他详见
[移动端H5坑位指南](https://juejin.cn/post/6921886428158754829)
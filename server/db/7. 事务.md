事务（transaction）是一个完整的业务逻辑，最小的工作单元，只有 DML 语句（insert、delete、update）才有事务的概念。一个业务逻辑需要多条 DML 语句联合起来才能完成，所以需要事务的存在，事务本质上就是多条 DML 语句同时成功或同时失败

InnoDB 存储引擎提供了一组用来记录事务性活动的日志文件，在事务执行过程中每一条 DML 语句的操作都会记录到日志文件中

#### 提交和回滚事务

事务的操作分两种

- 提交事务：会清空记录事务性活动的日志文件，将数据全部彻底持久化到数据库表中。提交事务标志着事务的结束，且全部执行成功

- 回滚事务：会清空记录事务性活动的日志文件，将之前所有的 DML 操作撤销。回滚事务标志着事务的结束，且全部执行失败。回滚只能回滚到上一次的提交点

mysql 中默认情况下时自动提交事务的，即每执行一条 DML 语句提交一次，这种情况下直接回滚是无法撤销上次操作的，可以手动关闭自动提交机制来操作事务

```sql
-- 开启事务，意味着关闭自动提交机制
start transaction;
insert into t_student(name) values('zhangsan1');
insert into t_student(name) values('zhangsan2');
insert into t_student(name) values('zhangsan3');
insert into t_student(name) values('zhangsan4');
-- 回滚，上述操作撤销
rollback;
insert into t_student(name) values('zhangsan1');
insert into t_student(name) values('zhangsan2');
insert into t_student(name) values('zhangsan3');
insert into t_student(name) values('zhangsan4');
-- 提交
commit;
-- 再回滚无效，已经提交了
rollback;
```

#### 事务特性

#### 事务隔离级别

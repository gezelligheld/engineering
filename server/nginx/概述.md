Nginx 是一款轻量级的 Web 服务器、反向代理服务器，由于它的内存占用少，启动极快，高并发能力强，在互联网项目中广泛应用

#### 正向代理和反向代理

一般的访问流程是客户端直接向目标服务器发送请求并获取内容

- 正向代理

使用正向代理后，客户端改为向代理服务器发送请求，然后由代理服务器和原始服务器通信，转交请求并获得的内容，再返回给客户端；正向代理隐藏了真实的客户端，为客户端收发请求，使真实客户端对服务器不可见

客户端和代理服务器可以直接互相访问，属于一个 LAN（局域网）

- 反向代理

使用反向代理后，直接收到请求的服务器是代理服务器，然后将请求转发给内部网络上真正进行处理的服务器，得到的结果返回给客户端；反向代理隐藏了真实的服务器，为服务器收发请求，使真实服务器对客户端不可见

代理服务器和真正 server 服务器可以直接互相访问，属于一个 LAN（服务器内网）

![](https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-user-assets/2020/4/29/171c4e96d99eecdc~tplv-t2oaga2asx-zoom-in-crop-mark:1304:0:0:0.awebp)

#### 负载均衡

一般情况下，客户端发送多个请求到服务器，服务器处理请求，其中一部分可能要操作一些资源比如数据库、静态资源等，服务器处理完毕后，再将结果返回给客户端。

当并发量特别大时，服务器容易崩，除了堆机器之外，最重要的做法就是负载均衡。这个时候单个服务器无法解决问题，那么可以使用多个服务器，然后将请求分发到各个服务器上，换言之将负载分发到不同的服务器上，这就是负载均衡，实质上是分摊压力

#### 为什么使用 nginx 作反向代理

1. 安全及权限。使用反向代理后，用户端将无法直接通过请求访问真正的服务器，必须首先通过 Nginx。可以通过在 Nginx 层上将危险或者没有权限的请求内容过滤掉，从而保证了服务器的安全

2. 负载均衡。如一个网站的内容被部署在若干台服务器上，可以把这些机子看成一个集群，那么 Nginx 可以将接收到的客户端请求“均匀地”分配到这个集群中所有的服务器上。此外 nginx 自带服务器心跳检查，定期检查集群中是否有服务器处于异常状态，如果异常之后的客户端请求不会再发送到这台机器上

相关文档：
[nginx 中文文档](https://www.nginx.cn/doc/)
